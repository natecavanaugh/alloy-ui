AUI.add("aui-autocomplete-search-list",function(m){var q=m.Array.indexOf,f="AutocompleteSearchList",a=m.config.doc,n="add",w="''",v="checked",e="click",r=", ",d="inputSelector",p="phraseMatch",g="remove",i="render",h="tagsSelector",u="'Search'",x="searchInitially",l="",c="value",b="no-matches",t='<span class="aui-field-content aui-autocomplete-search-list-ac-container">',o='<input class="aui-field-input aui-field-input-text" id="ac-input" type="text" name="test-input" value="Search" autocomplete="off" onfocus="if(this.value=='+u+") {this.value="+w+'};" onblur="if(!this.value) {this.value='+u+'};this._haschanged=false;"/></span>',k='<div class="aui-autocomplete-search-list" />',j=' checked="checked" ';var s=function(){};m.mix(s,{NAME:f,NS:f,EXTENDS:m.Plugin.Base,AUGMENTS:[m.AutoCompleteBase],ATTRS:{entries:{value:null},entriesNode:{value:null},initialResult:{value:null},inputNode:{value:"#ac-input"},inputSelector:{value:null},minQueryLength:{value:0},mode:{value:null},noResultsMessage:{value:null},resultFilters:{value:p},searchInitially:{value:true},source:{value:null},tagsSelector:{value:null},template:{valueFn:function(){var y=this;var z=y.get("templateType");switch(z){case"asset-tags-selector":default:return m.AutocompleteSearchList.TPL||new m.Template('<fieldset class="{[(!values.results || !values.results.length) ? "',b,'" : "',l,'" ]}">','<tpl for="results">','<label title="{text}"><input {[values.checked ? "checked" : ""]} type="checkbox" value="{text}" />{text}</label>',"</tpl>",'<div class="lfr-tag-message">{noResultsMessage}</div>',"</fieldset>");}}},templateType:{value:"asset-tags-selector"}},prototype:{initializer:function(z){var y=this;var B=y.get(d);var A=y.get(h);if(A){y.tagsSelector=A;y.entries=A.entries;}this.afterHostEvent(i,function(){y._createNodes(z.host.bodyNode);y.bindUI();if(A||B){var C=m.bind(y._onCheckboxClick,y);y.entriesNode.delegate(e,C,"input[type=checkbox]");}});},bindUI:function(){var y=this;y.before("results",function(z){var A=y._formatEventResults(z);y._renderEntries(A);});if(y.get(x)){y._initialSearch();}},_createNodes:function(z){var y=this;var B=m.Node.create(k);var A=m.Node.create(t+o);z.append(A);z.append(B);y.inputNode=A;y.entriesNode=B;},_initialSearch:function(){var y=this;if(y.tagsSelector){var z=y._formatInitialSearch();y._renderEntries(z);}else{y.sendRequest(l);}},_formatInitialSearch:function(){var y=this;var z=y.get("initialResult");m.Array.map(z,function(B,A,C){B.checked=B.assetCount;B.text=B.name;});return{results:z};},_formatEventResults:function(A){var y=this;var z=m.Array.map(A.results,function(D,C,E){var B=y.entries;if(B){if(y.tagsSelector){D.raw.checked=B.indexOfKey(D.text)>-1?j:l;}else{D.raw.checked=q(B,D.text)>-1?j:l;}}return D.raw;});return{results:z};},_renderEntries:function(A){var y=this;A.noResultsMessage=y.get("noResultsMessage");var z=y.get("template");z.render(A,y.entriesNode);},_onCheckboxClick:function(y){var J=this;var C=y.currentTarget;var I=C.get(v);var G=C.val();var H=J.get(d);var D=J.get(h);if(D){var z=I?n:g;J.tagsSelector[z](G);}else{if(H){var L=m.one(H);var F=L.val();var A=J.entries||[];if(I){F=F?F+r+G:G;A.push(G);}else{var K=new RegExp(r+G);F=F.replace(K,l);K=new RegExp(G);F=F.replace(K,l);if(F.indexOf(r)===0){F=F.substring(2);}var E=q(A,G);var B=A.splice(E,1);}L.val(F);J.entries=A;}}}}},true);m.AutocompleteSearchList=m.Component.build(f,m.Plugin.Base,[m.AutoCompleteBase,s]);m.AutocompleteSearchList.NS=f;},"@VERSION@",{skinnable:true,requires:["aui-base","aui-template","autocomplete","autocomplete-filters","autocomplete-highlighters","plugin"]});